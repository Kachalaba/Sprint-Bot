# Sprint-Bot для тренера по плаванию

Sprint-Bot помогает тренерам, спортсменам и плавательным клубам планировать спринты, держать связь с командой и не терять результаты. Бот напоминает о стартах, собирает времена и превращает данные в понятные отчёты — вы сосредотачиваетесь на дорожке, а не на таблицах.

## Как это работает

1. **Создайте спринт в пару касаний.** Тренер запускает команду `/newsprint`, указывает дистанцию (например, 6×50 м кроль) и выбирает группу. Бот тут же открывает регистрацию и шлёт приглашение всей команде.
2. **Используйте шаблоны по стилям.** Сохраните любимые раскладки ("4×25 баттерфляй", "3×100 комбинированный") и вызывайте их командой `/templates`. Участник видит подсказку по каждому отрезку прямо в Telegram и быстрее фиксирует результат.
3. **Отслеживайте прогресс.** Команда `/progress` строит график времени для выбранного спортсмена: видно, как меняется скорость по дорожкам, где ускориться и над чем работать. Итоговое изображение приходит в чат и сохраняется в отчётах.
4. **Автоматизируйте рутину.** Напоминания о контрольных стартах, уведомления об обновлении личных рекордов, тихие часы, чтобы не будить детей поздними сообщениями — всё настраивается переменными в `.env`.

![Пример рабочего экрана](screenshot.png)

## Установка и запуск

1. Склонируйте репозиторий или распакуйте релиз в удобную папку.
2. Запустите установку одной командой:  
   ```bash
   ./install.sh
   ```
   Скрипт проверит Docker, создаст `.env`, попросит ввести токен бота и ID администраторов, затем соберёт контейнер и запустит Sprint-Bot.
3. После первого запуска откройте Telegram, найдите своего бота и отправьте `/start`.

## Бэкапы, чат и отчёты

- **Резервные копии.** Бот автоматически архивирует базу SQLite в S3-совместимое хранилище. Вы задаёте период в часах, а администратор может запустить резервное копирование вручную командой `/backup_now`.
- **Чат тренера и спортсмена.** Встроенные диалоги помогают оперативно уточнять задания и комментировать попытки прямо из Telegram.
- **Отчёты.** Бот формирует изображения с прогрессом и сохраняет логи попыток — удобно показывать родителям или заносить данные в сезонный план.

Преимущества для разных групп:
- **Дети и любители:** напоминания о тренировках, простая запись результатов, мотивация через личные рекорды.
- **Профики:** контроль темпа, шаблоны по стилям, точная аналитика для подготовки к стартам.

## Под капотом

- Python 3.11
- Docker и docker-compose
- Telegram Bot API (aiogram 3)
- SQLite для базы данных
- Sentry для отслеживания ошибок
- S3-совместимое хранилище для резервных копий
- CI/CD через GitHub Actions

## Советы по использованию

- **Групповые тренировки:** создайте один спринт для всей группы, используйте напоминания и общий чат для обратной связи сразу после заплыва.
- **Индивидуальные занятия:** заведите отдельный шаблон на спортсмена и задавайте персональные цели, отмечайте комментарии прямо в боте.
- **Челленджи и внутренняя лига:** запускайте еженедельные спринты, делитесь графиками прогресса и фиксируйте победителей в отчётах.
- **Статистика за сезон:** выгружайте CSV из меню экспорта, чтобы свести динамику времени по стилям и дистанциям.

## FAQ

**Тестовый запуск в Docker не стартует.**  
Убедитесь, что порты 8443 свободны и команда `docker-compose up -d --build` выполнилась без ошибок. Проверьте логи: `docker compose logs -f sprint-bot`.

**Где взять токен бота?**  
Напишите @BotFather, создайте нового бота и скопируйте выданный токен в `BOT_TOKEN`.

**Как добавить спортсменов списком?**  
Используйте CSV из папки `examples/`. Отправьте файл через команду `/import_athletes`, бот подскажет, если ID отсутствуют.

**Нужны ли Google Sheets?**  
Нет, но если хотите синхронизировать список спортсменов с таблицей клуба, создайте сервисный аккаунт, добавьте файл `creds.json` и заполните `SPREADSHEET_KEY`.

Готово! Настраивайте Sprint-Bot под свой бассейн и экономьте время на бумажной работе.
